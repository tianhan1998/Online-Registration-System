<!DOCTYPE html>
<html>

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>INSPINIA | Login</title>

	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="font-awesome/css/font-awesome.css" rel="stylesheet">

	<link href="css/animate.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<link rel="shortcut icon" href="#" />


</head>

<body class="gray-bg">

<div class="middle-box text-center loginscreen animated fadeInDown">
	<div>
		<div>

<!--			<h1 class="logo-name">IN+</h1>-->

		</div>
		<h3>请输入您的邮箱</h3>
		<p>
			请输入您的邮箱
		</p>
		<div class="tabbable" id="tabs-215554">
			<ul class="nav nav-tabs">
				<li class="active">
					<a href="#panel-967992" data-toggle="tab">个人账号</a>
				</li>
				<li>
					<a href="#panel-884429" data-toggle="tab">团队账户</a>
				</li>
			</ul>
			<div class="tab-content">
				<div class="tab-pane active" id="panel-967992">
					<p>
						<form id="memForm" class="m-t" role="form">
							<div id="mem_log" class="alert alert-danger alert-dismissable" hidden="true">
								<button  aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
							</div>
							<input name="type" type="hidden" value="0">
							<div class="form-group">
								<input id="mem_id" name="id" type="email" class="form-control" placeholder="Email" required="">
							</div>
							<button id="mem_submit" type="button" class="btn btn-primary block full-width m-b" onclick="mem_retrievePassword()">发送验证码</button>
						</form>
					</p>
				</div>
				<div class="tab-pane" id="panel-884429">
					<p>
						<form id="teamForm" class="teamForm" role="form">
							<div id="mem_log1" class="alert alert-danger alert-dismissable" hidden="true">
								<button  aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
							</div>
							<input name="type" type="hidden" value="0">
							<div class="form-group">
								<input id="team_id" name="id" type="text" class="form-control" placeholder="Email" required="">
							</div>
							<button id="team_submit" type="button" class="btn btn-primary block full-width m-b" onclick="team_retrievePassword()">发送验证码</button>
						</form>
					</p>
				</div>
		</div>


		<p class="m-t"> <small>©2019 安阳师范学院软件学院算法艺术社 版权所有</small> </p>
		<p class="m-t"> <small>©2019 SCHOOL OF SOFTWARE ENGINEERING AYNU Algorithm art club All Rights Reserved</small> </p>
	</div>
</div>
</div>
<!-- Mainly scripts -->
<script src="js/jquery-2.1.1.js"></script>
<script src="js/bootstrap.min.js"></script>
<!--		引入加密-->
<script src="https://cdn.bootcss.com/jsencrypt/3.0.0-beta.1/jsencrypt.js"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

</body>
<script>
	function mem_retrievePassword() {
		var mail = $("#mem_id").val();
		if(mail!=null&&mail.length!=0) {
			$.ajax({
				url:"api/retrievePassword",
				data:{
					mail:mail,
					type:"0"
				},
				dataType:"json",
				type:"post",
				success: function (data) {
					if(data.code == "200") {
						swal("邮件发送成功! 请点击邮箱内的链接进行修改密码!");
					}else if(data.code == "402"){
						swal("邮件发送间隔太短，请过段时间重新发送！");
					}else{
						swal("邮件发送失败!");
					}
					console.log(data);
				}
			})
		}else{
			swal("请输入邮箱！");
		}
	}

	function team_retrievePassword() {
		var mail = $("#team_id").val();
		if(mail!=null&&mail.length!=0) {
			$.ajax({
				url:"api/retrievePassword",
				data:{
					mail:mail,
					type:"1"
				},
				dataType:"json",
				type:"post",
				success: function (data) {
					if(data.code == "200") {
						swal("邮件发送成功! 请点击邮箱内的链接进行修改密码!");
					}else if(data.code == "402"){
						swal("邮件发送间隔太短，请过段时间重新发送！");
					}else{
						swal("邮件发送失败!");
					}
					console.log(data);
				}
			})
		}else{
			swal("请输入邮箱！");
		}
	}
</script>
</html>
